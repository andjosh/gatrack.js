/*! gatrack.js v1.0.0 */
/*! By Joshua Beckman <@jbckmn>, 20-01-2014 */
/*! Repo: git@github.com:jbckmn/gatrack.js.git, License: MIT */
!function(a,b){a.gatrack=a.gatrack||{action:function(b,c,d,e){var f="success";try{a.ga("send","event",c,d)}catch(g){try{a._gaq.push(["_trackEvent",c,d])}catch(h){f=h}}e&&e(f)},link:function(b,c,d){function e(){gatrack.action(b,f,g,function(){b.href&&setTimeout(function(){a.open(b.href,b.target)},100)})}var f=c||b.dataset.gatrackCategory,g=d||b.dataset.gatrackAction||b.href||b.title||b.id||"Unspecified link";!f&&b.target&&"_blank"==b.target?f="Outbound Link":c||(f="Link Event"),b.addEventListener("click",e,!1)},click:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Click Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified click";a.addEventListener("click",d,!1)},scrollAt:function(a,c,d,e,f){function g(){var b;b="y"==j?this.scrollY+this.clientHeight:this.scrollX+this.clientWidth,b>h&&gatrack.action(a,k,l)}var h,i=c||a.dataset.gatrackScrollPoint,j=d||a.dataset.gatrackScrollDirection||"y",k=e||a.dataset.gatrackCategory||"Scroll Event",l=f||a.dataset.gatrackAction||a.title||a.id||b.getElementsByTagName("title")[0].textContent||"Unspecified scroll";"%"==i.slice(-1)?h=("y"==j?a.clientHeight:a.clientWidth)*parseInt(i.slice(0,i.length-2))/100:"px"==i.slice(-2)&&(h=parseInt(i.slice(0,i.length-3))),a.addEventListener("scroll",g,!1)},hover:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Hover Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified hover";a.addEventListener("mouseover",d,!1)},touch:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Touch Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified touch";a.addEventListener("touchstart",d,!1)},load:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Load Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified load";a.addEventListener("load",d,!1)}};var c,d=b.getElementsByClassName("ga-link-trackable"),e=b.getElementsByClassName("ga-load-trackable"),f=b.getElementsByClassName("ga-scroll-trackable"),g=b.getElementsByClassName("ga-hover-trackable"),h=b.getElementsByClassName("ga-touch-trackable"),i=b.getElementsByClassName("ga-click-trackable");for(c=d.length-1;c>=0;c--)gatrack.link(d[c]);for(c=e.length-1;c>=0;c--)gatrack.load(e[c]);for(c=f.length-1;c>=0;c--)gatrack.scrollAt(f[c]);for(c=g.length-1;c>=0;c--)gatrack.hover(g[c]);for(c=h.length-1;c>=0;c--)gatrack.touch(h[c]);for(c=i.length-1;c>=0;c--)gatrack.click(i[c])}(this,this.document);