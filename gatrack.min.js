/*! gatrack.js v1.0.0 */
/*! By Joshua Beckman <@jbckmn>, 20-01-2014 */
/*! Repo: git@github.com:jbckmn/gatrack.js.git, License: MIT */
!function(a,b){a.gatrack=a.gatrack||{action:function(b,c,d,e){var f="success";try{a.ga("send","event",c,d)}catch(g){try{a._gaq.push(["_trackEvent",c,d])}catch(h){f=h}}e&&e(f)},link:function(b,c,d){function e(){gatrack.action(b,f,g,function(){b.href&&setTimeout(function(){a.open(b.href,b.target)},100)})}var f=c||b.dataset.gatrackCategory,g=d||b.dataset.gatrackAction||b.href||b.title||b.id||"Unspecified link";!f&&b.target&&"_blank"==b.target?f="Outbound Link":c||(f="Link Event"),b.addEventListener("click",e,!1)},click:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Click Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified click";a.addEventListener("click",d,!1)},scrollAt:function(a,c,d,e,f){function g(){var b;b="y"==j?this.scrollY+this.clientHeight:this.scrollX+this.clientWidth,b>h&&gatrack.action(a,k,l)}var h,i=c||a.dataset.gatrackScrollPoint,j=d||a.dataset.gatrackScrollDirection||"y",k=e||a.dataset.gatrackCategory||"Scroll Event",l=f||a.dataset.gatrackAction||a.title||a.id||b.getElementsByTagName("title")[0].textContent||"Unspecified scroll";"%"==i.slice(-1)?h=("y"==j?a.clientHeight:a.clientWidth)*parseInt(i.slice(0,i.length-2))/100:"px"==i.slice(-2)&&(h=parseInt(i.slice(0,i.length-3))),a.addEventListener("scroll",g,!1)},hover:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Hover Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified hover";a.addEventListener("mouseover",d,!1)},touch:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Touch Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified touch";a.addEventListener("touchstart",d,!1)},load:function(a,b,c){function d(){gatrack.action(a,e,f)}var e=b||a.dataset.gatrackCategory||"Load Event",f=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified load";a.addEventListener("load",d,!1)},init:function(){var a,c=b.getElementsByClassName("ga-link-trackable"),d=b.getElementsByClassName("ga-load-trackable"),e=b.getElementsByClassName("ga-scroll-trackable"),f=b.getElementsByClassName("ga-hover-trackable"),g=b.getElementsByClassName("ga-touch-trackable"),h=b.getElementsByClassName("ga-click-trackable");for(a=c.length-1;a>=0;a--)gatrack.link(c[a]);for(a=d.length-1;a>=0;a--)gatrack.load(d[a]);for(a=e.length-1;a>=0;a--)gatrack.scrollAt(e[a]);for(a=f.length-1;a>=0;a--)gatrack.hover(f[a]);for(a=g.length-1;a>=0;a--)gatrack.touch(g[a]);for(a=h.length-1;a>=0;a--)gatrack.click(h[a])}},a.gatrack.init()}(this,this.document);