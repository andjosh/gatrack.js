/*! gatrack.js v1.0.0 */
/*! By Joshua Beckman <@jbckmn>, 21-01-2014 */
/*! Repo: git@github.com:jbckmn/gatrack.js.git, License: MIT */
!function(a,b){a.gatrack=a.gatrack||{action:function(b,c,d,e,f,g){var h="success",i=parseInt(f||0,10);try{a.ga("send","event",c,d,e,i)}catch(j){try{a._gaq.push(["_trackEvent",c,d,e,i])}catch(k){h=k}}g&&g(h)},link:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Link Event",h=c||a.dataset.gatrackAction||a.href||a.title||a.id,i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;!h&&a.target&&"_self"!=a.target?h="Outbound Link":h||(h="Internal Link"),a.addEventListener("click",f,!1)},click:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Click Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified click",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("click",f,!1)},scrollAt:function(a,c,d,e,f,g,h){function i(){var b;b="y"==l?this.scrollY+this.clientHeight:this.scrollX+this.clientWidth,b>j&&gatrack.action(a,m,n,o,p)}var j,k=c||a.dataset.gatrackScrollPoint,l=d||a.dataset.gatrackScrollDirection||"y",m=e||a.dataset.gatrackCategory||"Scroll Event",n=f||a.dataset.gatrackAction||a.title||a.id||b.getElementsByTagName("title")[0].textContent||k,o=g||a.dataset.gatrackLabel||l,p=h||a.dataset.gatrackValue;"%"==k.slice(-1)?j=p=("y"==l?a.clientHeight:a.clientWidth)*parseInt(k.slice(0,k.length-2))/100:"px"==k.slice(-2)&&(j=p=parseInt(k.slice(0,k.length-3))),a.addEventListener("scroll",i,!1)},hover:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Hover Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified hover",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("mouseover",f,!1)},touch:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Touch Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified touch",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("touchstart",f,!1)},load:function(a,b,c,d,e){function f(){gatrack.action(a,g,h,i,j)}var g=b||a.dataset.gatrackCategory||"Load Event",h=c||a.dataset.gatrackAction||a.title||a.id||"Unspecified load",i=d||a.dataset.gatrackLabel,j=e||a.dataset.gatrackValue;a.addEventListener("load",f,!1)},init:function(){var a,c=b.getElementsByClassName("ga-link-trackable"),d=b.getElementsByClassName("ga-load-trackable"),e=b.getElementsByClassName("ga-scroll-trackable"),f=b.getElementsByClassName("ga-hover-trackable"),g=b.getElementsByClassName("ga-touch-trackable"),h=b.getElementsByClassName("ga-click-trackable");for(a=c.length-1;a>=0;a--)gatrack.link(c[a]);for(a=d.length-1;a>=0;a--)gatrack.load(d[a]);for(a=e.length-1;a>=0;a--)gatrack.scrollAt(e[a]);for(a=f.length-1;a>=0;a--)gatrack.hover(f[a]);for(a=g.length-1;a>=0;a--)gatrack.touch(g[a]);for(a=h.length-1;a>=0;a--)gatrack.click(h[a])}},a.gatrack.init()}(this,this.document);